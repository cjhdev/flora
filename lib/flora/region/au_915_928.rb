require_relative 'us_902_928_helpers'

module Flora

  class AU_915_928 < Region
    
    CHANNELS = Array.new(64).map.with_index do |v, i|
      ChannelDef.new(i, 915200000 + (i*200000), 0, 5, false)
    end + Array.new(8).map.with_index do |v,i|
      ChannelDef.new(i+64, 915900000 + (i*1600000), 4, 4, false)
    end
    
    DOWN_CHANNELS = Array.new(8).map.with_index do |v, i|
      ChannelDef.new(i, 923300000 + (i*600000), 8, 13, false)
    end
    
    RX2_FREQ = 923300000
    RX2_DR = 8
    
    # x: rx1_dr_offset
    # y: upstream dr
    RX = [
      [8,8,8,8,8,8],
      [9,8,8,8,8,8],
      [10,9,8,8,8,8],
      [11,10,9,8,8,8],
      [12,11,10,9,8,8],
      [13,12,11,10,9,8],
      [13,13,12,11,10,9]    
    ]
    
    UP_RATES = {
      [12, 125000] => 0,
      [11, 125000] => 1,
      [10, 125000] => 2,
      [9, 125000] => 3,
      [8, 125000] => 4,
      [7, 125000] => 5,
      [8, 500000] => 6    
    }
    
    DOWN_RATES = {
      [12, 500000] => 8,
      [11, 500000] => 9,
      [10, 500000] => 10,
      [9, 500000] => 11,
      [8, 500000] => 12,
      [7, 500000] => 13    
    }
    
    RATE_TO_SF_BW = [
      [12, 125000],
      [11, 125000],
      [10, 125000],
      [9, 125000],
      [8, 125000],
      [7, 125000],
      [8, 500000],
      nil,
      [12, 500000],
      [11, 500000],
      [10, 500000],
      [9, 500000],
      [8, 500000],
      [7, 500000]
    ]
    
    LNS_RATE_LIST = [
      [12, 125, 0],
      [11, 125, 0],
      [10, 125, 0],
      [9, 125, 0],
      [8, 125, 0],
      [7, 125, 0],
      [8, 500, 0],
      
      # filler
      [7, 125, 0],
      
      # downstreams
      [12, 500, 1],
      [11, 500, 1],
      [10, 500, 1],
      [9, 500, 1],
      [8, 500, 1],
      [7, 500, 1],
      
      # filler
      [7, 125, 0],
      [7, 125, 0]
    ]
    
    include US_902_928_Helpers
    
  end

end
